{% extends 'base.html' %}

{% block content %}
{% load static %}
<style>
    body {
        background-color: rgb(151, 149, 149);
    }
</style>

<div class="order-form-container">
    <h1>Order Form</h1>
    <form method="post" onsubmit="return validateForm()">
        {% csrf_token %}
        <div class="form-group order-form-group">
            <label for="id_name">Name</label>
            <input type="text" id="id_name" name="name" required>
        </div>
        <div class="form-group order-form-group">
            <label for="id_email">Email</label>
            <input type="email" id="id_email" name="email" required>
        </div>
        <div class="form-group order-form-group">
            <label for="id_service">Service</label>
            <select id="serviceSelect" name="service" required>
                {% for service in services %}
                    <option value="{{ service.id }}" data-price="{{ service.price }}">
                        {{ service.name }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group order-form-group">
            <label for="id_sub_service">Sub-Service</label>
            <select id="id_sub_service" name="sub_service" required></select>
        </div>
        <div class="form-group order-form-group">
            <label for="numPages">Number of Pages</label>
            <select id="numPages" name="pages" required>
                {% for page in page_range %}
                    <option value="{{ page }}">{{ page }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group order-form-group">
            <label for="id_deadline">Deadline</label>
            <input type="date" id="id_deadline" name="deadline" required onchange="calculateDeadlineDays()">
        </div>
        <div class="form-group order-form-group">
            <label for="id_deadline_days">Deadline Days</label>
            <input type="text" id="id_deadline_days" name="deadline_days" readonly>
        </div>
        <div class="form-group order-form-group">
            <label for="id_currency">Currency</label>
            <select id="currencySelect" name="currency" required>
                <option value="usd">USD</option>
                <option value="eur">EUR</option>
                <option value="gbp">GBP</option>
                <option value="aud">AUD</option>
                <option value="cad">CAD</option>
                <option value="jpy">JPY</option>
                <option value="inr">INR</option>
            </select>
        </div>
        <div id="price-display">Price: $0</div>

        <div class="form-group order-form-group">
            <input type="checkbox" id="agree_guarantee" name="agree_guarantee" required onchange="checkAgreements()">
            <label for="agree_guarantee">I agree to the <a href="{% url 'guarantee' %}" target="_blank">Guarantee</a></label>
        </div>
        <div class="form-group order-form-group">
            <input type="checkbox" id="agree_privacy" name="agree_privacy" required onchange="checkAgreements()">
            <label for="agree_privacy">I agree to the <a href="{% url 'privacy_policy' %}" target="_blank">Privacy Policy</a></label>
        </div>

        <button type="submit" class="btn order-btn btn-primary" id="submit-button" disabled>Submit</button>
    </form>
</div>
{% endblock %}